{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Train</title>
    <style>
        .background{
             width: 760px;
             border: 2px solid #dddddd;
             height: 1000px;
             margin-left: auto;
             margin-right: auto;
             margin-top: 10px;
        }
    </style>
    <link rel="stylesheet" href="{% static 'plugins/bootstrap-3.4.1/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/mycss.css' %}">
</head>
<body>

<div class="background">

<!--训练参数设置模块-->

     <div class="container-set">
        <div class="header">Train Setting</div>
    </div>

    <!--数据选择模块-->
    <div class="container" style="margin-top: 8px;">
        <div class="text-black">Database selection</div>
        <div class="container" style="margin-top: 8px;">
            <div class="col-md-3">
                <div class="text-grey">Database selection</div>
            </div>
            <div class="col-md-9">
                <div>
                    <label for="upload" class="custom-file-upload">choose file</label>
                    <input id="upload" type="file" style="display:none"/>
                </div>
            </div>
        </div>
    </div>

    <!--模型选择模块-->
    <div class="container" style="margin-top: 8px;">
        <div class="text-black">Model selection</div>

        <!--补全模型选择-->
        <div class="container" style="margin-top: 8px;">
            <div class="col-md-3">
                <div class="text-grey">Impute Model Choose</div>
            </div>

            <div class="col-md-9">
                <div class="dropdown">
                    <button id="BtnTrainImputeModel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Impute Model
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="BtnTrainImputeModel" id="TrainImputeModel">
                        <!-- 模型选项由JavaScript动态填充.-->
                    </ul>
                </div>
            </div>
        </div>

        <!--预测模型选择-->
        <div class="container">
            <div class="col-md-3">
                <div class="text-grey">Predict Model Choose</div>
            </div>

            <div class="col-md-9">
                <div class="dropdown">
                    <button id="BtnTrainPredictModel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Predict Model
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="BtnTrainPredictModel" id="TrainPredictModel">
                        <!-- 模型选项由JavaScript动态填充.-->
                    </ul>
                </div>
            </div>
        </div>

    </div>


    <!--训练参数设置模块-->
    <div class="container" style="margin-top: 5px;">
        <div class="text-black">Training configuration</div>

        <!--Train Batch Size -->
        <div class="container" style="margin-top: 8px;">
            <div class="col-md-3">
                <div class="text-grey">Train Batch Size Settings</div>
            </div>
            <div class="col-md-9">
                <div style="display: flex; align-items: center;">
                    <div class="text-small-black">The amount of training data constitutes the original data's</div>
                    <div class="dropdown">
                        <button id="BtnTrainBatchSize" type="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false" style="margin-left: 4px;">
                                 10%
                            <span class="caret"></span>
                        </button>
                        <ul id="TrainBatch" class="dropdown-menu" aria-labelledby="dLabel">
                            <li><a class="dropdown-item" href="#">10%</a></li>
                            <li><a class="dropdown-item" href="#">20%</a></li>
                            <li><a class="dropdown-item" href="#">30%</a></li>
                            <li><a class="dropdown-item" href="#">40%</a></li>
                            <li><a class="dropdown-item" href="#">50%</a></li>
                            <li><a class="dropdown-item" href="#">60%</a></li>
                            <li><a class="dropdown-item" href="#">70%</a></li>
                            <li><a class="dropdown-item" href="#">80%</a></li>
                            <li><a class="dropdown-item" href="#">90%</a></li>
                            <li><a class="dropdown-item" href="#">100%</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Predict Data Batch Size -->
        <div class="container">
            <div class="col-md-3">
                <div class="text-grey">Predict Data Batch Size</div>
            </div>
            <div class="col-md-9">
                <div style="display: flex; align-items: center;">
                    <div class="text-small-black">The rate of predict data constitutes the original data's</div>
                    <div class="dropdown">
                        <button id="BtnPredictBatch" type="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false" style="margin-left: 4px;">
                                 10%
                            <span class="caret"></span>
                        </button>
                        <ul id="PredictBatch" class="dropdown-menu" aria-labelledby="dLabel" >
                            <li><a class="dropdown-item" href="#">10%</a></li>
                            <li><a class="dropdown-item" href="#">20%</a></li>
                            <li><a class="dropdown-item" href="#">30%</a></li>
                            <li><a class="dropdown-item" href="#">40%</a></li>
                            <li><a class="dropdown-item" href="#">50%</a></li>
                            <li><a class="dropdown-item" href="#">60%</a></li>
                            <li><a class="dropdown-item" href="#">70%</a></li>
                            <li><a class="dropdown-item" href="#">80%</a></li>
                            <li><a class="dropdown-item" href="#">90%</a></li>
                            <li><a class="dropdown-item" href="#">100%</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>

     <!--保存按钮-->
    <div class="centered">
        <div class="btn-group" role="group" aria-label="...">
            <button id="BtnTrainSetSave" type="button" class="btn btn-primary">Save</button>
        </div>
    </div>


<!--训练状态模块-->

    <div class="container-set">
        <div class="header">Train Processing</div>
    </div>

    <!--训练开关-->
    <div class="container start-train-container">
        <div class="col-md-2">
            <div class="text-black">Start/Stop Train</div>
        </div>
        <div class="col-md-10">
            <label class="toggle">
                <input type="checkbox" id="StartTrainToggle">
                <span class="slider round"></span>
            </label>
        </div>
    </div>

    <!--训练详情-->
    <div class="container">
        <div class="text-black">Train Details</div>

        <!--补全任务-->
        <div class="text-grey">Imputation Task</div>
                <!--补全状态-->
                <div class="container">
                    <div class="col-md-2">
                        <div  class="text-grey-small adjust-align">Task status</div>
                    </div>
                    <div class="col-md-10">
                        <div id="imputeStatus" class="text-blue-small adjust-align">Not started</div>
                    </div>
                </div>
                <!--补全时间-->
                <div class="container">
                    <div class="col-md-2">
                        <div class="text-grey-small adjust-align">Executed time</div>
                    </div>
                    <div class="col-md-10">
                        <div id="imputeTaskTime" class="text-blue-small adjust-align">00:00:00</div>
                    </div>
                </div>
         <!--预测任务-->
                <div class="text-grey">Prediction Task</div>
        <!--预测状态-->
                <div class="container">
                    <div class="col-md-2">
                        <div  class="text-grey-small adjust-align">Task status</div>
                    </div>
                    <div class="col-md-10">
                        <div id="predictStatus" class="text-blue-small adjust-align">Not started</div>
                    </div>
                </div>
        <!--预测时间-->
                <div class="container">
                    <div class="col-md-2">
                        <div class="text-grey-small adjust-align">Executed time</div>
                    </div>
                    <div class="col-md-10">
                        <div id="predictTaskTime" class="text-blue-small adjust-align">00:00:00</div>
                    </div>
                </div>
        <!--预测模型数-->
        <div class="container">
            <div class="col-md-3">
                <div class="text-grey">Number of trained models</div>
            </div>
            <div class="col-md-9">
                <div id="ModelCount" class="text-small-black">/</div>
            </div>
        </div>
    </div>

    <!--训练结果-->
    <div class="container">
        <div class="text-black">Train Result</div>
    </div>
    <div class="container" style="width: 700px;">
        <div class="panel panel-default">
            <table class="table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Model</th>
                    <th>Time</th>
                    <th>Accuracy</th>
                    <th>Precision</th>
                    <th>SMAPE</th>
                </tr>
                </thead>
                <tbody>
                {% for obj in queryset %}
                    <tr>
                        <td>{{ obj.id }}</td>
                        <td>{{ obj.model}}</td>
                        <td>{{ obj.time|date:"H-i-s" }}</td>
                        <td>{{ obj.accuracy|floatformat:2 }}</td>
                        <td>{{ obj.precision|floatformat:2 }}</td>
                        <td>{{ obj.SMAPE|floatformat:2 }}</td>
                    </tr>
                {% endfor %}

                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="{% static "plugins/jquery-3.7.1.min.js" %}"></script>
<script src="{% static "plugins/bootstrap-3.4.1/js/bootstrap.min.js" %}"></script>
<script type="text/javascript" src="{% static 'js/train.js' %}"></script>
</body>
</html>